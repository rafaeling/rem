/*----- Sección de Declaraciones --------------*/
%{
#include <stdio.h>
int nc, np, nl;
char * correo;
char * web;
char * fecha;
char * numero;
char * matricula;
char * c_postal;
char * dni;
%}

%%
	/*----- Sección de Reglas ----------------*/
	
//CORREO ELECTRÓNICO
[a-z]+"@"[a-z]+"."[a-z]+[ ]?		{correo = yytext; printf("%s\n",correo);}
//WEB
"www."[a-z]+"."[a-z]+			{web = yytext; printf("%s\n",web);}
//FECHAS
[0-3][0-9][-]?[/]?[0-1][1-9][-]?[/]?[0-9]?[0-9]?[0-9]?[0-9]?" "			{fecha = yytext; printf("%s\n",fecha);}
//TELÉFONOS
[69][0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]			{numero = yytext; printf("%s\n",numero);}
//MATRÍCULAS
[E][0-9][0-9][0-9][A-Z][A-Z][A-Z]				{matricula = yytext; printf("%s\n",matricula);}
//CODIGO POSTAL
[^0-9]?[1-9][1-9][1-9][1-9][1-9][^0-9]				{c_postal = yytext; printf("%s\n",c_postal);}
//DNI
[^0-9]?[1-9][1-9][1-9][1-9][1-9][1-9][1-9][1-9][A-Z]		{dni = yytext; printf("%s\n",dni);}

%%

	/*----- Sección de Procedimientos --------*/
int main (int argc, char *argv[]) {
	if (argc == 2) {
		yyin = fopen (argv[1], "rt");
		if (yyin == NULL) {
		printf ("El fichero %s no se puede abrir\n", argv[1]);
		exit (-1);
		}
	}else yyin = stdin;
	
	nc = np = nl = 0;
	yylex ();
	return 0;
}
